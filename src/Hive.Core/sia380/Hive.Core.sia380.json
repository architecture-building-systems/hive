{
  "name": "Hive.Core.sia380",
  "description": "A simplistic implementation of SIA 380",
  "version": "0.2",
  "author": "daren-thomas,christophwaibel",
  "id": "4b5ec46e-cafa-4a72-ac7b-fb839ce3c618",
  "include-files": ["sia380.py", "sia2024_room_reader.py", "adaptive_comfort.py", "sia2024_room_creator.py"],
  "components": [
    {
      "class-name": "Sia380",
      "name": "Building demand SIA 380",
      "abbreviation": "Sia380",
      "description": "Heating, cooling and electricity demand calculation based on SIA 380",
      "category": "[hive]",
      "subcategory": "Demand",
      "id": "01457f8e-80d7-4186-856d-ddaf1d896218",
      "icon": "demand_energydemand.png",
      "main-module": "sia380",
      "main-function": "main",
      "inputs": [
        {"type": "json", "name": "Room properties", "nick-name": "RoomProperties", "description": "Room properties as json. Could be from SIA 2024, or custom. It needs to follow the hive sia2024-json syntax", "access": "item"},
        {"type": "json", "name": "Room schedules", "nick-name": "RoomSchedules", "description": "Room schedules for occupancy, devices and lighting as json. Could be from SIA 2024, or custom. It needs to follow the hive sia2024-schedules-json syntax", "access": "item"},
        {"type": "float", "name": "Floor area", "nick-name": "FloorArea", "description": "Floor area of the zone in m^2.", "access": "item"},
        {"type": "float", "name": "Air temperature", "nick-name": "T_e", "description": "Hourly ambient air temperature in °C.", "access": "list"},
        {"type": "float", "name": "Setpoints upper bounds", "nick-name": "SetpointsUB", "description": "Hourly room temperature setpoints in °C (upper bound).", "access": "list"},
        {"type": "float", "name": "Setpoints lower bounds", "nick-name": "SetpointsLB", "description": "Hourly room temperature setpoints in °C (lower bound).", "access": "list"},
        {"type": "float", "name": "Envelope surface areas", "nick-name": "SurfaceAreas", "description": "Envelope surface areas of all external room surfaces in m^2.", "access": "list"},
        {"type": "string", "name": "Envelope surface types", "nick-name": "SurfaceTypes", "description": "Envelope surface types of all external room surfaces. Either 'opaque' or 'transp'.", "access": "list"},
        {"type": "generic", "name": "Surface irradiation", "nick-name": "Q_s_tree", "description": "Surface irradiation per transparent surface. Grasshopper tree, with each branch representing a transparent surface and containing 8760 timeseries of solar irradiation in Wh.", "access": "tree"},
        {"type": "generic", "name": "Surface irradiation unobstructed", "nick-name": "Q_s_tree_unobstructed", "description": "Unobstructed surface irradiation per surface. This tree is used, if the obstructed data (parameter above) is null. Grasshopper tree, same as parameter above.", "access": "tree"},
        {"type": "float", "name": "G value", "nick-name": "gValue", "description": "G value of windows", "access": "item"},
        {"type": "float", "name": "G value with sunscreen", "nick-name": "gValueTotal", "description": "G value total including sunscreen ('Sonnenschutz') of windows", "access": "item"},
        {"type": "float", "name": "Setpoint sunscreen", "nick-name": "SetpointSunscreen", "description": "Shading setpoint for activating sunscreen of windows, in W/m^2", "access": "item"},
        {"type": "boolean", "name": "Run obstructed solar simulation?", "nick-name": "RunObstructed?", "description": "Boolean to indicate if an obstructed solar simulation is conducted. True if yes.", "access": "item"},
        {"type": "boolean", "name": "Run hourly?", "nick-name": "RunHourly?", "description": "Boolean to indicate if to run monthly or hourly simulations. True if hourly.", "access": "item"},
        {"type": "boolean", "name": "Use adaptive comfort?", "nick-name": "UseAdaptiveComfort?", "description": "Boolean to indicate if adaptive comfort should be used instead of fixed setpoints. True if yes. Defaults to yes if setpoints_ub and setpoints_lb are null.", "access": "item"}
      ],
      "outputs": [
        {"type": "float", "name": "Heating demand", "nick-name": "Q_Heat", "description": "Heating loads of a zone in kWh.", "access": "list"},
        {"type": "float", "name": "Cooling demand", "nick-name": "Q_Cool", "description": "Cooling loads of a zone in kWh.", "access": "list"},
        {"type": "float", "name": "Electricity demand", "nick-name": "Q_Elec", "description": "Electricity loads of a zone in kWh.", "access": "list"},
        {"type": "float", "name": "Transmission heat losses", "nick-name": "Q_T", "description": "Transmission heat losses of a zone in kWh.", "access": "list"},
        {"type": "float", "name": "Ventilation heat losses", "nick-name": "Q_V", "description": "Ventilation heat losses of a zone in kWh.", "access": "list"},
        {"type": "float", "name": "Internal gains", "nick-name": "Q_i", "description": "Internal gains of a zone in kWh.", "access": "list"},
        {"type": "float", "name": "Solar gains", "nick-name": "Q_s", "description": "Solar gains of a zone in kWh.", "access": "list"},
        {"type": "float", "name": "Transmission heat losses of opaque surfaces", "nick-name": "Q_T_opaque", "description": "Transmission heat losses through opaque envelope surfaces in kWh", "access": "list"},
        {"type": "float", "name": "Transmission heat losses of transparent surfaces", "nick-name": "Q_T_transp", "description": "Transmission heat losses through transparent envelope surfaces in kWh", "access": "list"},
        {"type": "float", "name": "Solar gains per transparent surface", "nick-name": "Q_s_per_window", "description": "Solar gains per transparent surface (window). Grasshopper tree with each branch representing one window and containing a timeseries of irradiation values in kWh.", "access":  "tree"}
      ]
    },
    {
      "class-name": "AdaptiveComfort",
      "name": "Adaptive Comfort",
      "abbreviation": "AdaptiveComfort",
      "description": "Adaptive thermal comfort temperature as a function of ambient air temperature. Source: PLEA Notes 3 - Thermal Comfort. Auliciems and Szokolay 2007.",
      "category": "[hive]",
      "subcategory": "Demand",
      "id": "83d5d815-a306-4555-81f8-887132d0711f",
      "icon": "demand_adaptivecomfort.png",
      "main-module": "adaptive_comfort",
      "main-function": "adaptive_comfort",
      "inputs": [
        {"type": "float", "name": "Air temperature", "nick-name": "T_e", "description": "Average ambient air temperature in °C, either hourly or averaged monthly.", "access": "list"}
      ],
      "outputs": [
        {"type": "float", "name": "Thermal comfort", "nick-name": "T_n", "description": "Mean adaptive thermal comfort temperature in °C.", "access": "list"},
        {"type": "float", "name": "Comfort, 80% upper bound", "nick-name": "T_n80ub", "description": "Adaptive thermal comfort temperature in °C (upper bound of 80% acceptance).", "access": "list"},
        {"type": "float", "name": "Comfort, 80% lower bound", "nick-name": "T_n80lb", "description": "Adaptive thermal comfort temperature in °C (lower bound of 80% acceptance).", "access": "list"},
        {"type": "float", "name": "Comfort, 90% upper bound", "nick-name": "T_n90ub", "description": "Adaptive thermal comfort temperature in °C (upper bound of 90% acceptance).", "access": "list"},
        {"type": "float", "name": "Comfort, 90% lower bound", "nick-name": "T_n90lb", "description": "Adaptive thermal comfort temperature in °C (lower bound of 90% acceptance).", "access": "list"}
      ]
    },
    {
      "class-name": "Sia2024RoomReader",
      "name": "SIA 2024 Room Reader",
      "abbreviation": "Sia2024Reader",
      "description": "Reads room values and properties from a SIA 2024 Json",
      "category": "[hive]",
      "subcategory": "Demand",
      "id": "99dd97f1-b633-44e9-866c-6b6dc3bb8ae0",
      "icon": "demand_SIAroomreader.png",
      "main-module": "sia2024_room_reader",
      "main-function": "read_room",
      "inputs": [
        {"type": "json", "name": "Room Json", "nick-name": "RoomJson", "description": "Room type according to sia2024. Should be a dictionary in json format containing all properties. Must comply to hive sia2024 json format"},
        {"type": "float", "name": "Room Area", "nick-name": "Area", "description": "Room Area in m². If no input is given, default values are taken from SIA2024:2015 (Json dictionary of the parameter above)."},
        {"type": "integer", "name": "Month", "nick-name": "Month", "description": "Calculation month, 1 - 12", "default": 1},
        {"type": "string", "name": "Season", "nick-name": "Season", "description": "Season, either 'winter' or 'summer'. Determines the room temperature setpoints of SIA 2024"}
      ],
      "outputs": [
        {"type": "float", "name": "Time constant", "nick-name": "τ [h]", "description": "Zeitkonstante des Gebäudes [h] - time constant, representing thermal latency of the zone"},
        {"type": "float", "name": "Temperature setpoint", "nick-name": "θ_i [°C]", "description": "Raumlufttemperatur [°C] - temperature setpoint"},
        {"type": "float", "name": "Calculation period", "nick-name": "t [h]", "description": "Länge der Berechnungsperiode [h] - calculation period, representing usage of zone"},
        {"type": "float", "name": "Opaque envelope area", "nick-name": "A_op [m^2]", "description": "Aussenwandfläche (opak) [m^2] - oapque envelope surface area"},
        {"type": "float", "name": "Window area", "nick-name": "A_w [m^2]", "description": "Fensterfläche [m^2] - window surface area"},
        {"type": "float", "name": "U value opaque", "nick-name": "U_op [W/(m^2K)]", "description": "Wärmedurchgangskoeffizient Aussenwand [W/(m^2K)] - U value of opaque envelope surfaces"},
        {"type": "float", "name": "U value window", "nick-name": "U_w [W/(m^2K)]", "description": "Wärmedurchgangskoeffizient Fenster [W/(m^2K)] - U value of windows"},
        {"type": "float", "name": "Volumetric air flow rate", "nick-name": "V\u0307_e [m3/h]", "description": "Aussenluft-Volumenstrom [m^3/h] - exterior volumetric air flow rate"},
        {"type": "float", "name": "Infiltration", "nick-name": "V\u0307_inf [m^3/h]", "description": "Aussenluft-Volumenstrom durch Infiltration [m^3/h] - volume air flow rate through infiltration"},
        {"type": "float", "name": "Heat recovery", "nick-name": "η_rec [-]", "description": "Nutzungsgrad der Wärmerückgewinnung [-] - heat recovery"},
        {"type": "float", "name": "Occupation internal heat gains ", "nick-name": "φ_P [W]", "description": "Wärmeabgabe Personen [W] - internal heat gains from occupation"},
        {"type": "float", "name": "Lighting internal heat gains", "nick-name": "φ_L [W]", "description": "Wärmeabgabe Beleuchtung [W] - internal heat gains from lighting"},
        {"type": "float", "name": "Equipment internal heat gains", "nick-name": "φ_G [W]", "description": "Wärmeabgabe Geräte [W] - internal heat gains from equipment"},
        {"type": "float", "name": "Occupation load hours ", "nick-name": "t_P [h]", "description": "Vollaststunden Personen [h] - occupation load hours"},
        {"type": "float", "name": "Lighting load hours", "nick-name": "t_L [h]", "description": "Vollaststunden Beleuchtung [h] - lighting load hours"},
        {"type": "float", "name": "Equipment load hours", "nick-name": "t_A [h]", "description": "Vollaststunden Geräte [h] - equipment load hours"},
        {"type": "float", "name": "g Value", "nick-name": "g [-]", "description": "g-Wert [-] - g-Value windows"},
        {"type": "float", "name": "g Value with sunscreen", "nick-name": "g_total [-]", "description": "g-Wert total [-] - g-Value total of windows including sunscreen"},
        {"type": "float", "name": "Reduction factor of solar gains", "nick-name": "f_sh [-]", "description": "Reduktionsfaktor solare Wärmeeinträge [-] - reduction factor of solar gains (proxy for e.g. obstructions)"},
        {"type": "float", "name": "Shading setpoint", "nick-name": "G_T [W/m^2]", "description": "Strahlungsleistung fuer Betaetigung Sonnenschutz [W/m^2] - shading setpoint for activating the sunscreen"}]
    },
    {
      "class-name": "Sia2024RoomCreator",
      "name": "SIA 2024 Room Creator",
      "abbreviation": "Sia2024Creator",
      "description": "Creates a SIA 2024 room Json",
      "category": "[hive]",
      "subcategory": "Demand",
      "id": "51596454-227f-404e-8f07-76eef9beaa09",
      "icon": "demand_SIAroomcreater.png",
      "main-module": "sia2024_room_creator",
      "main-function": "main",
      "inputs": [
        {"type": "string", "name": "Description", "nick-name": "Description", "description": "Sia 2024 Room name. Must follow hive sia 2024 naming convention"},
        {"type": "integer", "name": "Time constant", "nick-name": "τ [h]", "description": "'Zeitkonstante', time constant in hours, descriping thermal latency of the room [h]"},
        {"type": "float", "name": "Cooling setpoint", "nick-name": "θ_i cooling [°C]", "description": "Raumlufttemperatur Auslegung Kuehlung (Sommer) - cooling setpoint in summer [°C]"},
        {"type": "float", "name": "Heating setpoint", "nick-name": "θ_i heating [°C]", "description": "Raumlufttemperatur Auslegung Heizen (Winter) - heating setpoint in winter [°C]"},
        {"type": "float", "name": "Cooling setback", "nick-name": "θ_i_s cooling [°C]", "description": "Raumlufttemperatur Auslegung Kuehlung (Sommer) - Absenktemperatur - cooling setback in summer [°C]"},
        {"type": "float", "name": "Heating setback", "nick-name": "θ_i_s heating [°C]", "description": "Raumlufttemperatur Auslegung Heizen (Winter) - Absenktemperatur - heating setback in winter [°C]"},
        {"type": "float", "name": "Floor area", "nick-name": "FloorArea", "description": "Nettogeschossflaeche - floor area [m^2]"},
        {"type": "float", "name": "Envelope area", "nick-name": "EnvelopeArea", "description": "Thermische Gebaeudehuellflaeche - envelope surface area [m^2]"},
        {"type": "float", "name": "Glazing ratio", "nick-name": "GlazingRatio", "description": "Glasanteil - glazing ratio [0, 1]"},
        {"type": "float", "name": "U value opaque", "nick-name": "U_op [W/(m^2K)]", "description": "'U-Wert opake Bauteile' - U-value of opaque surfaces [W/(m^2K)]"},
        {"type": "float", "name": "U value transparent", "nick-name": "U_w [W/(m^2K)]", "description": "'U-Wert Fenster' - U-value of transparent surfaces [W/(m^2K)]"},
        {"type": "float", "name": "g value", "nick-name": "g [-]", "description": "'Gesamtenergiedurchlassgrad Verglasung' - g-value of windows [0, 1]"},
        {"type": "float", "name": "Windows frame reduction factor", "nick-name": "windowsFrameReduction", "description": "'Abminderungsfaktor fuer Fensterrahmen' - window frames reduction factor"},
        {"type": "float", "name": "Volumetric air flow rate", "nick-name": "V\u0307_e [m3/h]", "description": "Aussenluft-Volumenstrom [m^3/h] - exterior volumetric air flow rate"},
        {"type": "float", "name": "Infiltration", "nick-name": "V̇_inf [m^3/h]", "description": "Aussenluft-Volumenstrom durch Infiltration [m^3/h] - volume air flow rate through infiltration"},
        {"type": "float", "name": "Heat recovery", "nick-name": "η_rec [-]", "description": "Nutzungsgrad der Wärmerückgewinnung [-] - heat recovery"},
        {"type": "float", "name": "Occupation internal heat gains ", "nick-name": "φ_P [W]", "description": "Wärmeabgabe Personen [W] - internal heat gains from occupation"},
        {"type": "float", "name": "Lighting internal heat gains", "nick-name": "φ_L [W]", "description": "Wärmeabgabe Beleuchtung [W] - internal heat gains from lighting"},
        {"type": "float", "name": "Equipment internal heat gains", "nick-name": "φ_G [W]", "description": "Wärmeabgabe Geräte [W] - internal heat gains from equipment"},
        {"type": "float", "name": "Occupation load hours ", "nick-name": "t_P [h]", "description": "Vollaststunden Personen [h] - occupation load hours"},
        {"type": "float", "name": "Lighting load hours", "nick-name": "t_L [h]", "description": "Vollaststunden Beleuchtung [h] - lighting load hours"},
        {"type": "float", "name": "Equipment load hours", "nick-name": "t_A [h]", "description": "Vollaststunden Geräte [h] - equipment load hours"},
        {"type": "float", "name": "Opaque construction cost", "nick-name": "OpaqueCost", "description": "'Kosten opake Bauteile' - cost of opaque construction [CHF/m^2]"},
        {"type": "float", "name": "Transparent construction cost", "nick-name": "TransparentCost", "description": "'Kosten transparente Bauteile' - cost of transparent construction [CHF/m^2]"},
        {"type": "float", "name": "Opaque construction embodied emissions", "nick-name": "OpaqueEmissions", "description": "'Emissionen opake Bauteile' - embodied emissions of opaque construction [kgCO2/m^2]"},
        {"type": "float", "name": "Transparent construction embodied emissions", "nick-name": "TransparentEmissions", "description": "'Emissionen transparente Bauteile' - embodied emissions of transparent construction [kgCO2/m^2]"}
      ],
      "outputs": [
        {"type": "json", "name": "Sia 2024 room", "nick-name": "RoomJson", "description": "Room information according to hive sia 2024 naming convention, as a Json"}]
    }
  ],
  "parameters": [
    {
      "class-name": "Sia2024RoomList_Standard",
      "name": "SIA 2024 Standard Rooms",
      "abbreviation": "Sia2024RoomsStandard",
      "description": "A list of SIA 2024 rooms, standard building quality",
      "category": "[hive]",
      "subcategory": "Demand",
      "id": "8903e11e-abba-4318-a9b2-6728e2999652",
      "parameter-type": "ValueList",
      "csv": "..\\..\\Hive.IO\\Hive.IO\\Resources\\201008_SIA2024_Raumdaten_Standardwert.csv",
      "icon": "demand_ListBuildingtype_standard.png"
    },
    {
      "class-name": "Sia2024RoomList_Existing",
      "name": "SIA 2024 Existing Rooms",
      "abbreviation": "Sia2024RoomsExisting",
      "description": "A list of SIA 2024 rooms, existing buildings quality",
      "category": "[hive]",
      "subcategory": "Demand",
      "id": "fb83131c-5b8d-4432-8bba-5991bd4b3309",
      "parameter-type": "ValueList",
      "csv": "..\\..\\Hive.IO\\Hive.IO\\Resources\\201008_SIA2024_Raumdaten_Bestand.csv",
      "icon": "demand_ListBuildingtype_ex.png"
    },
    {
      "class-name": "Sia2024RoomList_Ideal",
      "name": "SIA 2024 Ideal Rooms",
      "abbreviation": "Sia2024RoomsIdeal",
      "description": "A list of SIA 2024 rooms, ideal building quality",
      "category": "[hive]",
      "subcategory": "Demand",
      "id": "772400f7-ee9a-4e53-b33d-bf0d676f4249",
      "parameter-type": "ValueList",
      "csv": "..\\..\\Hive.IO\\Hive.IO\\Resources\\201008_SIA2024_Raumdaten_Zielwert.csv",
      "icon": "demand_ListBuildingtype_ideal.png"
    }
  ]
}